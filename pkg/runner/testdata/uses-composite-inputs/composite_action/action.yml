name: "Test Composite Action"
description: "Test action uses composite"

inputs:
  test_input_required:
    description: "Required input"
    required: true

runs:
  using: "composite"
  steps:
    - run: |
        echo "#####################################"
        echo "Inputs:"
        echo "---"
        echo "test_input_required=${{ inputs.test_input_required }}"
        echo "---"
      shell: bash

    - uses: ./actions/node16
      with:
        who-to-greet: Universe!

    # Let's test the inputs
    - run: |
        if [ "${{ inputs.test_input_required }}" != "test_input_required_value" ]; then
          exit 1
        fi
      shell: bash

    - run: |
        if [ "${{ inputs.who-to-greet }}" == "Universe!" ]; then
          exit 1
        fi
      shell: bash
